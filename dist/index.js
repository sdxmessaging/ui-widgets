import t from"lodash";import e from"mithril";import a from"mithril/stream";import r from"signature_pad";var n="fas";function i(t){n=t}function o(t){return n+" "+t}var s="border-box bn";var l="fw2 dark-gray";var c="mb1 f6 silver";var u=Math.max(window.devicePixelRatio||1,1);function f(t,a){var r=t.label;return e("span.mr2.silver.truncate",{title:r,class:a},r)}function p(t){var a=t.id,r=t.label,n=t.required;return e("label",{title:r,for:a,class:c},d(r,n))}function d(t,e){return e?t+"*":t}function v(t,e){return e?e:t}function h(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,a=t=="x"?e:e&3|8;return a.toString(16)})}function m(e,a){return t.find(e,t.matches(a))}function g(e,a){return t.remove(e,t.matches(a))}function y(t){var e=t.lastIndexOf(".");return[t.substr(0,e),t.substr(e)]}function w(t){var e=t.split(",");var a=e[0].indexOf("base64")>=0?atob(e[1]):unescape(e[1]);var r=e[0].split(":")[1].split(";")[0];var n=a.length;var i=new Uint8Array(n);for(var o=0;o<n;o++){i[o]=a.charCodeAt(o)}return new Blob([i],{type:r})}function x(t,e,a){if(t>e){if(t>a){return[a,Math.round(e*a/t)]}}else if(e>a){return[Math.round(t*a/e),a]}return[t,e]}function k(t,e,a){return new Promise(function(r,n){if(!t.type.match(/image.*/)){n(new Error("File most be an image"));return}var i=new FileReader;i.onload=function(t){if(!(t&&t.target)){return}var n=t.target.result;var i=new Image;i.onload=function(){var t=document.createElement("canvas");var o=x(i.width,i.height,e),s=o[0],l=o[1];var c=_(n);if(c>4){t.width=l;t.height=s}else{t.width=s;t.height=l}var u=t.getContext("2d");if(u){C(u,s,l,c);u.drawImage(i,0,0,s,l)}r(t.toDataURL(a))};var o=new Blob([n]);i.src=window.URL.createObjectURL(o)};i.readAsArrayBuffer(t)})}function _(t){var e=Math.min(t.byteLength,64*1024);var a=new DataView(t,0,e);if(a.getUint16(0,false)!==65496){return-2}var r=a.byteLength;var n=2;while(n<r){var i=a.getUint16(n,false);n+=2;if(i===65505){if(a.getUint32(n+=2,false)!==1165519206){return-1}var o=a.getUint16(n+=6,false)===18761;n+=a.getUint32(n+4,o);var s=a.getUint16(n,o);n+=2;for(var l=0;l<s;l++){if(a.getUint16(n+l*12,o)===274){return a.getUint16(n+l*12+8,o)}}}else if((i&65280)!==65280){break}else{n+=a.getUint16(n,false)}}return-1}function C(t,e,a,r){if(!r||r>8){return}switch(r){case 2:t.translate(e,0);t.scale(-1,1);return;case 3:t.translate(e,a);t.rotate(Math.PI);return;case 4:t.translate(0,a);t.scale(1,-1);return;case 5:t.rotate(.5*Math.PI);t.scale(1,-1);return;case 6:t.rotate(.5*Math.PI);t.translate(0,-a);return;case 7:t.rotate(.5*Math.PI);t.translate(e,-a);t.scale(-1,1);return;case 8:t.rotate(-.5*Math.PI);t.translate(-e,0);return}}var L=function(){function t(){}t.prototype.view=function(t){var a=t.attrs,r=a.label,n=a.type,i=n===void 0?"button":n,s=a.icon,l=a.classes,c=a.disabled,u=a.style,f=a.onclick;return e("button.button-reset.pa2.bn.br2"+b.bgBranding.brandingAlt,{type:i,class:""+(c?"o-60 ":"dim pointer ")+l,disabled:c,style:u,onclick:f},s?e("i.fa-fw.mr2",{class:o(s)}):null,r)};return t}();var P=function(){function t(){}t.prototype.view=function(t){var a=t.attrs,r=a.field,n=r.classes,i=r.style,o=a.value;return e(".pa2",{class:n,style:i},e.trust(o()))};return t}();var U=function(){function t(){}t.prototype.view=function(t){var a=t.attrs,r=a.field,n=a.value;var i=r.classes,o=r.style;return e(".pa2.flex.flex-wrap.bb.b--black-20",{class:i,style:o},[f(r),e("span.ws-normal",{title:n()},n())])};return t}();function F(t,e){if(t==="email"){return{href:"mailto:"+e}}else if(t==="tel"){return{href:"tel:"+e}}else{return{href:e,target:"_blank"}}}var I={email:"fa-envelope",tel:"fa-phone"};var j=function(){function t(){}t.prototype.view=function(t){var a=t.attrs,r=a.field,n=a.value;var i=r.classes,s=r.style;return e(".pa2.flex.flex-wrap.bb.b--black-20",{class:i,style:s},[f(r),n?e("a.link.dark-gray.dim.pointer.ws-normal",F(r.type,n()),e("i.mr2",{class:o(I[r.type]||"fa-link")}),n()):null])};return t}();var O=function(){function t(){}t.prototype.view=function(t){var a=t.attrs,r=a.field,n=a.value;var i=r.classes,s=r.style;return e(".pa2.flex.flex-wrap.bb.b--black-20",{class:i,style:s},[f(r),e("i.self-end",{class:o(n()?"fa-check":"fa-times")})])};return t}();var S=function(){function t(){}t.prototype.view=function(t){var a=t.attrs,r=a.field,n=a.value;var i=r.classes,o=r.style;var s=m(r.options,{value:n()});var l=s?s.label:n();return e(".pa2.flex.flex-wrap.bb.b--black-20",{class:i,style:o},[f(r),e("span.ws-normal",{title:l},l)])};return t}();var z=function(){function a(){}a.prototype.view=function(a){var r=a.attrs,n=r.field,i=r.value;var s=n.classes,l=n.style;return e(".pa2.flex.flex-column.bb.b--black-20",{class:s,style:l},[f(n,"mb1"),e(".flex.flex-column.mt1.nb1",t.map(i(),function(t){var a=t.name,r=t.path;return e("a.pa2.mv1.link.ba.b--black-20.dark-gray.dim.pointer[target=_blank]",{href:r},[e("i.mr2",{class:o("fa-file-download")}),a])}))])};return a}();var q=function(){function t(){}t.prototype.view=function(t){var a=t.children,r=t.attrs;return e(".relative.w-third.w-25-m.w-20-l.pa1.tc.hide-child",[e("img.contain",r),a])};return t}();var R=function(){function a(){}a.prototype.view=function(a){var r=a.attrs,n=r.field,i=r.value;var o=n.classes,s=n.style;return e(".pa2.flex.flex-column.bb.b--black-20",{class:o,style:s},[f(n,"mb2"),e(".flex.flex-row.flex-wrap.mt1.nr1.nb1.nl1",t.map(i(),function(t){var a=t.name,r=t.path;return e(q,{title:a,src:r,style:{"max-height":"6rem"}})}))])};return a}();var A=function(){function a(){}a.prototype.view=function(a){var r=a.attrs,n=r.field,i=r.value;var s=n.classes,l=n.style;var c=t.head(i());return e(".pa2.flex.flex-column.bb.b--black-20",{class:s,style:l},[f(n,"mb1"),c?e("img.img.contain.self-center"+b.imgHeight,{title:c.name,src:c.path}):e("i",{class:o("fa-image")})])};return a}();var E=function(){function t(){}t.prototype.view=function(t){var a=t.attrs.field,r=a.label,n=a.required;return e("label.mb2",d(r,n))};return t}();var M=function(){function t(){}t.prototype.view=function(t){var a;var r=t.attrs,n=r.field,i=r.value;var o=n.id,c=n.type,u=n.name,f=u===void 0?o:u,d=n.placeholder,v=n.required,h=n.readonly,m=n.disabled,g=n.autofocus,y=n.autocomplete,w=n.spellcheck,x=n.instant,k=n.containerClass,_=n.classes,C=_===void 0?"":_;return[p(n),e(".w-100",{class:k},e("input.input-reset.w-100"+b.inputHeight,(a={id:o,name:f,type:c,value:i(),class:""+(m?"o-60 ":"")+C+" "+s+" "+l,placeholder:d,required:v,readonly:h,disabled:m,autofocus:g,autocomplete:y,spellcheck:w},a[x?"oninput":"onchange"]=function(t){var e=t.target.value;return i(e)},a)))]};return t}();var D=function(){function t(){}t.prototype.view=function(t){var a=t.attrs,r=a.field,n=a.value;var i=r.label,o=r.id,s=r.name,c=s===void 0?o:s,u=r.required,f=r.readonly,p=r.disabled,v=r.autocomplete,h=r.containerClass,m=r.classes,b=m===void 0?"":m;return e("div",{class:h},e(".flex.flex-wrap",{class:l},e("label.flex.items-center.dark-gray",{class:""+(p?"o-60 ":"pointer ")+b},e("input.mr1[type=checkbox]",{id:o,name:c,checked:n(),required:u,readonly:f,disabled:p,autocomplete:v,onchange:function(t){var e=t.target.checked;return n(e)}}),d(i,u))))};return t}();var T=function(){function t(){this.showPassword=a(false)}t.prototype.view=function(t){var a;var r=t.attrs,n=r.field,i=r.value;var o=n.id,u=n.name,f=u===void 0?o:u,d=n.placeholder,v=n.required,h=n.readonly,m=n.disabled,g=n.autofocus,y=n.autocomplete,w=n.instant,x=n.containerClass,k=n.classes,_=k===void 0?"":k;return[e(".flex.justify-between",[p(n),e(D,{field:{id:"showpass",label:"Show Password",type:"checkbox",containerClass:c},value:this.showPassword})]),e(".w-100",{class:x},e("input.input-reset.w-100"+b.inputHeight,(a={id:o,name:f,type:this.showPassword()?"text":"password",value:i(),class:""+(m?"o-60 ":"")+_+" "+s+" "+l,placeholder:d,required:v,readonly:h,disabled:m,autofocus:g,autocomplete:y,autocorrect:"off"},a[w?"oninput":"onchange"]=function(t){var e=t.target.value;return i(e)},a)))]};return t}();var W=function(){function t(){}t.prototype.view=function(t){var a;var r=t.attrs,n=r.field,i=r.value;var o=n.id,c=n.name,u=c===void 0?o:c,f=n.placeholder,d=n.required,v=n.readonly,h=n.disabled,m=n.autofocus,b=n.autocomplete,g=n.spellcheck,y=n.instant,w=n.containerClass,x=n.classes,k=x===void 0?"":x;return[p(n),e("div",{class:w},e("textarea.w-100[rows=3]",(a={id:o,name:u,value:i(),class:""+(h?"o-60 ":"")+k+" "+s+" "+l,placeholder:f,required:d,readonly:v,disabled:h,autofocus:m,autocomplete:b,spellcheck:g,style:{resize:"vertical"}},a[y?"oninput":"onchange"]=function(t){var e=t.target.value;return i(e)},a)))]};return t}();var H=function(){function a(){}a.prototype.view=function(a){var r=a.attrs,n=r.field,i=r.value;var o=n,s=o.id,c=o.name,u=c===void 0?s:c,f=o.required,d=o.readonly,v=o.disabled,h=o.autocomplete,m=o.containerClass,b=o.classes,g=b===void 0?"":b,y=o.options;return[p(n),e("div",{class:m},e(".flex.flex-wrap",{class:l,onchange:function(t){var e=t.target.value;return i(e)}},t.map(y,function(t){var a=t.label,r=t.value;return e("label.flex.items-center",{class:""+(v?"o-60 ":"pointer ")+g},e("input.mr1[type=radio]",{name:u,value:r,checked:i()===r,required:f,readonly:d,disabled:v,autocomplete:h}),a)})))]};return a}();var B=function(){function a(){}a.prototype.view=function(a){var r=a.attrs,n=r.field,i=r.value;var o=n,c=o.id,u=o.name,f=u===void 0?c:u,d=o.required,v=o.readonly,h=o.disabled,m=o.autofocus,g=o.autocomplete,y=o.containerClass,w=o.classes,x=w===void 0?"":w,k=o.options;return[p(n),e("div",{class:y},e("select.input-reset.w-100"+b.inputHeight,{id:c,name:f,value:i(),class:""+(h?"o-60 ":"")+x+" "+s+" "+l,required:d,readonly:v,disabled:h,autofocus:m,autocomplete:g,onchange:function(t){var e=t.target.value;return i(e)}},t.map(k,function(t){var a=t.label,r=t.value;return e("option",{value:r},a)})))]};return a}();var V=function(){function r(){this.acceptTypes="*";this.multiple=true;this.dragging=false;this.fileList=a([])}r.prototype.oninit=function(t){var e=t.attrs.value;this.fileList=e};r.prototype.view=function(a){var r=this;var n=a.attrs.field;var i=n.label,o=n.id,s=n.name,l=s===void 0?o:s,u=n.required,f=n.readonly,p=n.disabled,d=n.autofocus,v=n.containerClass;return e("div",[e("label.flex.flex-column",t.extend({for:o,title:i,class:(p?"o-60":"pointer")+" "+v},p?{}:{ondragover:function(t){return r.dragStart(t)},ondragleave:function(t){return r.dragStop(t)},ondrop:function(t){r.dragStop(t);if(t.dataTransfer){r.addFiles(t.dataTransfer.files)}}}),[e("input.clip[type=file]",{id:o,name:l,multiple:this.multiple,accept:this.acceptTypes,required:u,readonly:f,disabled:p,autofocus:d,onchange:function(t){var e=t.target.files;r.addFiles(e)}}),e("span",{class:c},i),this.viewUploadWidget(n)]),this.viewFileList()])};r.prototype.viewUploadWidget=function(t){return e(".pa2.ba.b--dashed.br2",{class:this.dragging?"b--blue blue":"b--light-silver dark-gray"},[e("i.mr2",{class:o("fa-file-upload")}),e("span","Add file(s)...")])};r.prototype.viewFileList=function(){var a=this;return e(".flex.flex-column.mt1.nb1",t.map(this.fileList(),function(t){return e("span.pa2.mv1.ba.b--black-20.hide-child.dim.pointer",[e("i.mr2",{class:o("fa-file-download")}),t.name,e("i.child.fr",{title:"Remove "+t.name,class:o("fa-trash-alt"),onclick:function(){return a.removeFile(t.guid)}})])}))};r.prototype.addFiles=function(e){var a=this.fileList();t.each(e,function(t){a.push({guid:h(),name:t.name,path:"not_set",file:t})});this.fileList(a)};r.prototype.removeFile=function(t){var e=this.fileList();g(e,{guid:t});this.fileList(e)};r.prototype.dragStart=function(t){t.preventDefault();if(t.dataTransfer){t.dataTransfer.dropEffect="copy"}if(this.dragging){t.redraw=false}this.dragging=true};r.prototype.dragStop=function(t){t.preventDefault();this.dragging=false};return r}();var G=this&&this.__extends||function(){var t=function(e,a){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)if(e.hasOwnProperty(a))t[a]=e[a]};return t(e,a)};return function(e,a){t(e,a);function r(){this.constructor=e}e.prototype=a===null?Object.create(a):(r.prototype=a.prototype,new r)}}();var J=function(a){G(r,a);function r(){var t=a!==null&&a.apply(this,arguments)||this;t.multiple=false;return t}r.prototype.viewUploadWidget=function(a){var r=t.head(this.fileList());return e(".pa2.ba.b--dashed.br2",{class:this.dragging?"b--blue blue":"b--light-silver dark-gray"},[e("i.mr2",{class:o("fa-file-upload")}),e("span",r?r.name:"Upload...")])};r.prototype.viewFileList=function(){return null};r.prototype.addFiles=function(e){var a=t.head(e);if(!a){return}this.setFile({guid:this.getFileId(),name:a.name,path:"not_set",file:a})};r.prototype.getFileId=function(){var e=t.head(this.fileList());return e?e.guid:h()};r.prototype.setFile=function(t){this.fileList([t])};return r}(V);var K=this&&this.__extends||function(){var t=function(e,a){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)if(e.hasOwnProperty(a))t[a]=e[a]};return t(e,a)};return function(e,a){t(e,a);function r(){this.constructor=e}e.prototype=a===null?Object.create(a):(r.prototype=a.prototype,new r)}}();var N=function(a){K(r,a);function r(){var t=a!==null&&a.apply(this,arguments)||this;t.acceptTypes="image/*";return t}r.prototype.viewUploadWidget=function(t){var a=t.classes,r=a===void 0?"h3":a;return e(".w-100.pa1.ba.bw1.b--dashed.br3.dt.tc",{class:r+" "+(this.dragging?"b--blue blue":"b--light-silver dark-gray")},e("i.fa-2x.dtc.v-mid",{class:o("fa-camera")}))};r.prototype.viewFileList=function(){var a=this;return e(".flex.flex-row.flex-wrap.mt1.nr1.nb1.nl1",t.map(this.fileList(),function(t){return e(q,{src:v(t.path,t.dataUrl),class:"dim",style:{"max-height":"6rem"}},e(".pa2.bg-white.ba.b--light-silver.br2.absolute.top-0.right-0.child.pointer",{title:"Remove "+t.name,onclick:function(){return a.removeFile(t.guid)}},e("i.fa-lg",{class:o("fa-trash-alt")})))}))};r.prototype.addFiles=function(a){var n=this;var i="image/jpeg";var o=this.fileList();Promise.all(t.map(a,function(t){return k(t,r.maxImageSize,i).then(function(e){var a=y(t.name)[0];var r=new File([w(e)],a+".jpg",{type:i});o.push({guid:h(),name:r.name,path:"not_set",file:r,dataUrl:e})})})).then(function(){n.fileList(o);e.redraw()})};r.maxImageSize=1280;return r}(V);var Q=this&&this.__extends||function(){var t=function(e,a){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)if(e.hasOwnProperty(a))t[a]=e[a]};return t(e,a)};return function(e,a){t(e,a);function r(){this.constructor=e}e.prototype=a===null?Object.create(a):(r.prototype=a.prototype,new r)}}();var X=function(a){Q(r,a);function r(){var t=a!==null&&a.apply(this,arguments)||this;t.multiple=false;t.acceptTypes="image/*";return t}r.prototype.viewUploadWidget=function(a){var r=a.classes,n=r===void 0?"h5":r;var i=t.head(this.fileList());return e(".w-100.pa1.contain.ba.bw1.b--dashed.br3.dt.tc",{class:n+" "+(this.dragging?"b--blue blue":"b--light-silver dark-gray")},i?e("img.img"+b.imgHeight,{src:v(i.path,i.dataUrl)}):e("i.fa-2x.dtc.v-mid",{class:o("fa-camera")}))};r.prototype.addFiles=function(a){var n=this;var i=t.head(a);if(!i){return}var o="image/jpeg";k(i,r.maxImageSize,o).then(function(t){var a=y(i.name)[0];var r=new File([w(t)],a+".jpg",{type:o});n.setFile({guid:n.getFileId(),name:r.name,path:"not_set",file:r,dataUrl:t});e.redraw()})};r.maxImageSize=1280;return r}(J);var Y=function(){function a(){this.signaturePad=null}a.prototype.oncreate=function(e){var a=this;var n=e.dom;var i=n.children[0];this.signaturePad=new r(i,{minWidth:.5*u,maxWidth:1.5*u});this.resizeCanvas=t.debounce(function(){i.width=i.offsetWidth*u;i.height=i.offsetHeight*u;var t=i.getContext("2d");if(t&&a.signaturePad){t.scale(u,u);a.signaturePad.clear()}},250);window.addEventListener("resize",this.resizeCanvas);window.addEventListener("orientationchange",this.resizeCanvas);this.resizeCanvas()};a.prototype.onremove=function(){window.removeEventListener("resize",this.resizeCanvas);window.removeEventListener("orientationchange",this.resizeCanvas)};a.prototype.view=function(t){var a=this;var r=t.attrs,n=r.onSet,i=r.onCancel;return[e(".aspect-ratio.ba.bw1.br3.b--dashed.b--black-30"+b.aspectRatio4x1,e("canvas.aspect-ratio--object")),e(".flex.flex-row.nl1.nr1.mb1",[e(L,{label:"Apply",icon:"fa-check",classes:"ma1",onclick:function(){if(a.signaturePad&&!a.signaturePad.isEmpty()){n(a.signaturePad.toDataURL("image/png"))}}}),e(L,{label:"Reset",icon:"fa-eraser",classes:"ma1",onclick:function(){return a.resetCanvas()}}),e(L,{label:"Cancel",icon:"fa-times",classes:"ma1",onclick:i})])]};a.prototype.resetCanvas=function(){if(this.signaturePad){this.signaturePad.clear()}};a.prototype.resizeCanvas=function(){t.noop()};return a}();var Z=function(){function t(){this.text=a("")}t.prototype.oncreate=function(t){var e=t.dom;var a=e.children[0];a.focus({preventScroll:false})};t.prototype.view=function(t){var a=this;var r=t.attrs,n=r.onSet,i=r.onCancel;var o=60*u;var s=480*u;return[e(".aspect-ratio.ba.bw1.br3.b--dashed.b--black-30"+b.aspectRatio4x1,e("input.aspect-ratio--object.pa2.ba.bw0[type=text]",{onkeypress:function(t){var e=t.keyCode;if(e===13&&a.text()){n($(a.text()));return false}return true},oninput:function(t){var e=t.target.value;return a.text(e)},value:this.text(),style:{"font-size":"calc("+o+"px + ("+o+" / "+s+" * (100vw - "+s+"px)))","font-family":"Caveat"}})),e(".flex.flex-row.nl1.nr1.mb1",[e(L,{label:"Apply",icon:"fa-check",classes:"ma1",onclick:function(){if(a.text()){n($(a.text()))}}}),e(L,{label:"Reset",icon:"fa-eraser",classes:"ma1",onclick:function(){return a.text("")}}),e(L,{label:"Cancel",icon:"fa-times",classes:"ma1",onclick:i})])]};return t}();function $(t){var e=document.createElement("canvas");var a=90*u;e.width=600*u;e.height=150*u;var r=e.getContext("2d");if(r){r.textBaseline="middle";r.font=a+"px Caveat";r.fillText(t,6*u,e.height*.52)}return e.toDataURL()}var tt=this&&this.__extends||function(){var t=function(e,a){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)if(e.hasOwnProperty(a))t[a]=e[a]};return t(e,a)};return function(e,a){t(e,a);function r(){this.constructor=e}e.prototype=a===null?Object.create(a):(r.prototype=a.prototype,new r)}}();var et=function(a){tt(r,a);function r(){var t=a!==null&&a.apply(this,arguments)||this;t.state=0;return t}r.prototype.view=function(a){var r=this;var n=a.attrs.field;var i=n.id,s=n.containerClass;var l=t.head(this.fileList());return e(".flex.flex-column",{class:s},[e(".mb1.flex.flex-row",[p(n),e("span.ph2.mh2.ml-auto.dark-gray",{class:this.state===1?b.brandingAlt.class:"dim pointer",onclick:function(){return r.state=1}},e("i.fa-fw",{class:o("fa-pen")})),e("span.ph2.mh2.dark-gray",{class:this.state===2?b.brandingAlt.class:"dim pointer",onclick:function(){return r.state=2}},e("i.fa-fw",{class:o("fa-keyboard")}))]),this.state===0?e(".aspect-ratio.dark-gray.ba.bw1.br3.b--dashed.b--black-30.pointer"+b.aspectRatio4x1,{onclick:function(){return r.state=1}},l?e("img.aspect-ratio--object",{src:v(l.path,l.dataUrl)}):e(".aspect-ratio--object.flex.items-center.justify-center",[e("i.fa-2x",{class:o("fa-pen-nib")}),e("span.ml2","Sign")])):e(this.state===1?Y:Z,{onSet:function(t){return r.setDataUrl(t,i)},onCancel:function(){return r.state=0}})])};r.prototype.setDataUrl=function(t,a){var n=this;at(t,r.maxImageSize).then(function(t){var r=new File([w(t)],"sign-"+a+".png",{type:"image/png"});n.setFile({guid:n.getFileId(),name:r.name,path:"not_set",file:r,dataUrl:t});n.state=0;e.redraw()})};r.maxImageSize=640;return r}(J);function at(t,e){return new Promise(function(a){var r=new Image;r.onload=function(){var t=document.createElement("canvas");var n=x(r.width,r.height,e),i=n[0],o=n[1];t.width=i;t.height=o;var s=t.getContext("2d");if(s){s.drawImage(r,0,0,i,o)}a(t.toDataURL())};r.src=t})}export{M as BaseInput,U as BaseText,L as Button,O as Checkbox,D as CheckboxInput,z as FileList,V as FileMulti,J as FileSelect,R as ImageList,N as ImageMulti,A as ImagePreview,X as ImageSelect,E as Label,j as Link,T as PasswordInput,H as RadioInput,B as SelectInput,S as SelectText,et as SignBuilder,W as TextareaInput,P as Trusted,w as dataURItoBlob,y as fileNameExtSplit,f as getDisplayLabel,p as getLabel,d as getLabelText,h as guid,I as iconMap,v as imgSrc,s as inputBorder,l as inputText,c as labelCls,F as linkAttrs,m as pickByProperty,u as pxRatio,g as removeByProperty,k as resizeImage,x as scaleRect,i as setIconStyle,o as styleIcon};
