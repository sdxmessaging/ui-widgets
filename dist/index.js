import t from"lodash";import e from"mithril";import a from"mithril/stream";import r from"signature_pad";var n="border-box bn";var i="fw2 dark-gray";var o="mb1 f6 silver";var s=Math.max(window.devicePixelRatio||1,1);function l(t,a){var r=t.label;return e("span.mr2.silver.truncate",{title:r,class:a},r)}function c(t){var a=t.id,r=t.label,n=t.required;return e("label",{title:r,for:a,class:o},u(r,n))}function u(t,e){return e?t+"*":t}function f(t,e){return e?e:t}function p(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,a=t=="x"?e:e&3|8;return a.toString(16)})}function d(e,a){return t.find(e,t.matches(a))}function v(e,a){return t.remove(e,t.matches(a))}function h(t){var e=t.lastIndexOf(".");return[t.substr(0,e),t.substr(e)]}function m(t){var e=t.split(",");var a=e[0].indexOf("base64")>=0?atob(e[1]):unescape(e[1]);var r=e[0].split(":")[1].split(";")[0];var n=a.length;var i=new Uint8Array(n);for(var o=0;o<n;o++){i[o]=a.charCodeAt(o)}return new Blob([i],{type:r})}function g(t,e,a){if(t>e){if(t>a){return[a,Math.round(e*a/t)]}}else if(e>a){return[Math.round(t*a/e),a]}return[t,e]}function y(t,e,a){return new Promise(function(r,n){if(!t.type.match(/image.*/)){n(new Error("File most be an image"));return}var i=new FileReader;i.onload=function(t){if(!(t&&t.target)){return}var n=t.target.result;var i=new Image;i.onload=function(){var t=document.createElement("canvas");var o=g(i.width,i.height,e),s=o[0],l=o[1];var c=w(n);if(c>4){t.width=l;t.height=s}else{t.width=s;t.height=l}var u=t.getContext("2d");if(u){x(u,s,l,c);u.drawImage(i,0,0,s,l)}r(t.toDataURL(a))};var o=new Blob([n]);i.src=window.URL.createObjectURL(o)};i.readAsArrayBuffer(t)})}function w(t){var e=Math.min(t.byteLength,64*1024);var a=new DataView(t,0,e);if(a.getUint16(0,false)!==65496){return-2}var r=a.byteLength;var n=2;while(n<r){var i=a.getUint16(n,false);n+=2;if(i===65505){if(a.getUint32(n+=2,false)!==1165519206){return-1}var o=a.getUint16(n+=6,false)===18761;n+=a.getUint32(n+4,o);var s=a.getUint16(n,o);n+=2;for(var l=0;l<s;l++){if(a.getUint16(n+l*12,o)===274){return a.getUint16(n+l*12+8,o)}}}else if((i&65280)!==65280){break}else{n+=a.getUint16(n,false)}}return-1}function x(t,e,a,r){if(!r||r>8){return}switch(r){case 2:t.translate(e,0);t.scale(-1,1);return;case 3:t.translate(e,a);t.rotate(Math.PI);return;case 4:t.translate(0,a);t.scale(1,-1);return;case 5:t.rotate(.5*Math.PI);t.scale(1,-1);return;case 6:t.rotate(.5*Math.PI);t.translate(0,-a);return;case 7:t.rotate(.5*Math.PI);t.translate(e,-a);t.scale(-1,1);return;case 8:t.rotate(-.5*Math.PI);t.translate(-e,0);return}}var k=function(){function t(){}t.prototype.view=function(t){var a=t.attrs,r=a.label,n=a.type,i=n===void 0?"button":n,o=a.icon,s=a.classes,l=a.disabled,c=a.style,u=a.onclick;return e("button.button-reset.pa2.bn.br2"+b.bgBranding.brandingAlt,{type:i,class:""+(l?"o-60 ":"dim pointer ")+s,disabled:l,style:c,onclick:u},o?e("i.fal.fa-fw.mr2",{class:o}):null,r)};return t}();var _=function(){function t(){}t.prototype.view=function(t){var a=t.attrs,r=a.field,n=r.classes,i=r.style,o=a.value;return e(".pa2",{class:n,style:i},e.trust(o()))};return t}();var C=function(){function t(){}t.prototype.view=function(t){var a=t.attrs,r=a.field,n=a.value;var i=r.classes,o=r.style;return e(".pa2.flex.flex-wrap.bb.b--black-20",{class:i,style:o},[l(r),e("span.ws-normal",{title:n()},n())])};return t}();function L(t,e){if(t==="email"){return{href:"mailto:"+e}}else if(t==="tel"){return{href:"tel:"+e}}else{return{href:e,target:"_blank"}}}var P={email:"fa-envelope",tel:"fa-phone"};var U=function(){function t(){}t.prototype.view=function(t){var a=t.attrs,r=a.field,n=a.value;var i=r.classes,o=r.style;return e(".pa2.flex.flex-wrap.bb.b--black-20",{class:i,style:o},[l(r),n?e("a.link.dark-gray.dim.pointer.ws-normal",L(r.type,n()),e("i.fal.mr2",{class:P[r.type]}),n()):null])};return t}();var F=function(){function t(){}t.prototype.view=function(t){var a=t.attrs,r=a.field,n=a.value;var i=r.classes,o=r.style;return e(".pa2.flex.flex-wrap.bb.b--black-20",{class:i,style:o},[l(r),e("i.fal.self-end",{class:n()?"fa-check":"fa-times"})])};return t}();var I=function(){function t(){}t.prototype.view=function(t){var a=t.attrs,r=a.field,n=a.value;var i=r.classes,o=r.style;var s=d(r.options,{value:n()});var c=s?s.label:n();return e(".pa2.flex.flex-wrap.bb.b--black-20",{class:i,style:o},[l(r),e("span.ws-normal",{title:c},c)])};return t}();var j=function(){function a(){}a.prototype.view=function(a){var r=a.attrs,n=r.field,i=r.value;var o=n.classes,s=n.style;return e(".pa2.flex.flex-column.bb.b--black-20",{class:o,style:s},[l(n,"mb1"),e(".flex.flex-column.mt1.nb1",t.map(i(),function(t){var a=t.name,r=t.path;return e("a.pa2.mv1.link.ba.b--black-20.dark-gray.dim.pointer[target=_blank]",{href:r},[e("i.fal.fa-file-download.mr2"),a])}))])};return a}();var O=function(){function t(){}t.prototype.view=function(t){var a=t.children,r=t.attrs;return e(".relative.w-third.w-25-m.w-20-l.pa1.tc.hide-child",[e("img.contain",r),a])};return t}();var S=function(){function a(){}a.prototype.view=function(a){var r=a.attrs,n=r.field,i=r.value;var o=n.classes,s=n.style;return e(".pa2.flex.flex-column.bb.b--black-20",{class:o,style:s},[l(n,"mb2"),e(".flex.flex-row.flex-wrap.mt1.nr1.nb1.nl1",t.map(i(),function(t){var a=t.name,r=t.path;return e(O,{title:a,src:r,style:{"max-height":"6rem"}})}))])};return a}();var z=function(){function a(){}a.prototype.view=function(a){var r=a.attrs,n=r.field,i=r.value;var o=n.classes,s=n.style;var c=t.head(i());return e(".pa2.flex.flex-column.bb.b--black-20",{class:o,style:s},[l(n,"mb1"),c?e("img.img.contain.self-center"+b.imgHeight,{title:c.name,src:c.path}):e("i.fal.fa-image")])};return a}();var q=function(){function t(){}t.prototype.view=function(t){var a=t.attrs.field,r=a.label,n=a.required;return e("label.mb2",u(r,n))};return t}();var R=function(){function t(){}t.prototype.view=function(t){var a;var r=t.attrs,o=r.field,s=r.value;var l=o.id,u=o.type,f=o.name,p=f===void 0?l:f,d=o.placeholder,v=o.required,h=o.readonly,m=o.disabled,g=o.autofocus,y=o.autocomplete,w=o.spellcheck,x=o.instant,k=o.containerClass,_=o.classes,C=_===void 0?"":_;return[c(o),e(".w-100",{class:k},e("input.input-reset.w-100"+b.inputHeight,(a={id:l,name:p,type:u,value:s(),class:""+(m?"o-60 ":"")+C+" "+n+" "+i,placeholder:d,required:v,readonly:h,disabled:m,autofocus:g,autocomplete:y,spellcheck:w},a[x?"oninput":"onchange"]=function(t){var e=t.target.value;return s(e)},a)))]};return t}();var A=function(){function t(){}t.prototype.view=function(t){var a=t.attrs,r=a.field,n=a.value;var o=r.label,s=r.id,l=r.name,c=l===void 0?s:l,f=r.required,p=r.readonly,d=r.disabled,v=r.autocomplete,h=r.containerClass,m=r.classes,b=m===void 0?"":m;return e("div",{class:h},e(".flex.flex-wrap",{class:i},e("label.flex.items-center.dark-gray",{class:""+(d?"o-60 ":"pointer ")+b},e("input.mr1[type=checkbox]",{id:s,name:c,checked:n(),required:f,readonly:p,disabled:d,autocomplete:v,onchange:function(t){var e=t.target.checked;return n(e)}}),u(o,f))))};return t}();var E=function(){function t(){this.showPassword=a(false)}t.prototype.view=function(t){var a;var r=t.attrs,s=r.field,l=r.value;var u=s.id,f=s.name,p=f===void 0?u:f,d=s.placeholder,v=s.required,h=s.readonly,m=s.disabled,g=s.autofocus,y=s.autocomplete,w=s.instant,x=s.containerClass,k=s.classes,_=k===void 0?"":k;return[e(".flex.justify-between",[c(s),e(A,{field:{id:"showpass",label:"Show Password",type:"checkbox",containerClass:o},value:this.showPassword})]),e(".w-100",{class:x},e("input.input-reset.w-100"+b.inputHeight,(a={id:u,name:p,type:this.showPassword()?"text":"password",value:l(),class:""+(m?"o-60 ":"")+_+" "+n+" "+i,placeholder:d,required:v,readonly:h,disabled:m,autofocus:g,autocomplete:y,autocorrect:"off"},a[w?"oninput":"onchange"]=function(t){var e=t.target.value;return l(e)},a)))]};return t}();var M=function(){function t(){}t.prototype.view=function(t){var a;var r=t.attrs,o=r.field,s=r.value;var l=o.id,u=o.name,f=u===void 0?l:u,p=o.placeholder,d=o.required,v=o.readonly,h=o.disabled,m=o.autofocus,b=o.autocomplete,g=o.spellcheck,y=o.instant,w=o.containerClass,x=o.classes,k=x===void 0?"":x;return[c(o),e("div",{class:w},e("textarea.w-100[rows=3]",(a={id:l,name:f,value:s(),class:""+(h?"o-60 ":"")+k+" "+n+" "+i,placeholder:p,required:d,readonly:v,disabled:h,autofocus:m,autocomplete:b,spellcheck:g,style:{resize:"vertical"}},a[y?"oninput":"onchange"]=function(t){var e=t.target.value;return s(e)},a)))]};return t}();var D=function(){function a(){}a.prototype.view=function(a){var r=a.attrs,n=r.field,o=r.value;var s=n,l=s.id,u=s.name,f=u===void 0?l:u,p=s.required,d=s.readonly,v=s.disabled,h=s.autocomplete,m=s.containerClass,b=s.classes,g=b===void 0?"":b,y=s.options;return[c(n),e("div",{class:m},e(".flex.flex-wrap",{class:i,onchange:function(t){var e=t.target.value;return o(e)}},t.map(y,function(t){var a=t.label,r=t.value;return e("label.flex.items-center",{class:""+(v?"o-60 ":"pointer ")+g},e("input.mr1[type=radio]",{name:f,value:r,checked:o()===r,required:p,readonly:d,disabled:v,autocomplete:h}),a)})))]};return a}();var T=function(){function a(){}a.prototype.view=function(a){var r=a.attrs,o=r.field,s=r.value;var l=o,u=l.id,f=l.name,p=f===void 0?u:f,d=l.required,v=l.readonly,h=l.disabled,m=l.autofocus,g=l.autocomplete,y=l.containerClass,w=l.classes,x=w===void 0?"":w,k=l.options;return[c(o),e("div",{class:y},e("select.input-reset.w-100"+b.inputHeight,{id:u,name:p,value:s(),class:""+(h?"o-60 ":"")+x+" "+n+" "+i,required:d,readonly:v,disabled:h,autofocus:m,autocomplete:g,onchange:function(t){var e=t.target.value;return s(e)}},t.map(k,function(t){var a=t.label,r=t.value;return e("option",{value:r},a)})))]};return a}();var W=function(){function r(){this.acceptTypes="*";this.multiple=true;this.dragging=false;this.fileList=a([])}r.prototype.oninit=function(t){var e=t.attrs.value;this.fileList=e};r.prototype.view=function(a){var r=this;var n=a.attrs.field;var i=n.label,s=n.id,l=n.name,c=l===void 0?s:l,u=n.required,f=n.readonly,p=n.disabled,d=n.autofocus,v=n.containerClass;return e("div",[e("label.flex.flex-column",t.extend({for:s,title:i,class:(p?"o-60":"pointer")+" "+v},p?{}:{ondragover:function(t){return r.dragStart(t)},ondragleave:function(t){return r.dragStop(t)},ondrop:function(t){r.dragStop(t);if(t.dataTransfer){r.addFiles(t.dataTransfer.files)}}}),[e("input.clip[type=file]",{id:s,name:c,multiple:this.multiple,accept:this.acceptTypes,required:u,readonly:f,disabled:p,autofocus:d,onchange:function(t){var e=t.target.files;r.addFiles(e)}}),e("span",{class:o},i),this.viewUploadWidget(n)]),this.viewFileList()])};r.prototype.viewUploadWidget=function(t){return e(".pa2.ba.b--dashed.br2",{class:this.dragging?"b--blue blue":"b--light-silver dark-gray"},[e("i.fal.fa-file-upload.mr2"),e("span","Add file(s)...")])};r.prototype.viewFileList=function(){var a=this;return e(".flex.flex-column.mt1.nb1",t.map(this.fileList(),function(t){return e("span.pa2.mv1.ba.b--black-20.hide-child.dim.pointer",[e("i.fal.fa-file-download.mr2"),t.name,e("i.fal.fa-file-minus.child.fr",{title:"Remove "+t.name,onclick:function(){return a.removeFile(t.guid)}})])}))};r.prototype.addFiles=function(e){var a=this.fileList();t.each(e,function(t){a.push({guid:p(),name:t.name,path:"not_set",file:t})});this.fileList(a)};r.prototype.removeFile=function(t){var e=this.fileList();v(e,{guid:t});this.fileList(e)};r.prototype.dragStart=function(t){t.preventDefault();if(t.dataTransfer){t.dataTransfer.dropEffect="copy"}if(this.dragging){t.redraw=false}this.dragging=true};r.prototype.dragStop=function(t){t.preventDefault();this.dragging=false};return r}();var H=this&&this.__extends||function(){var t=function(e,a){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)if(e.hasOwnProperty(a))t[a]=e[a]};return t(e,a)};return function(e,a){t(e,a);function r(){this.constructor=e}e.prototype=a===null?Object.create(a):(r.prototype=a.prototype,new r)}}();var B=function(a){H(r,a);function r(){var t=a!==null&&a.apply(this,arguments)||this;t.multiple=false;return t}r.prototype.viewUploadWidget=function(a){var r=t.head(this.fileList());return e(".pa2.ba.b--dashed.br2",{class:this.dragging?"b--blue blue":"b--light-silver dark-gray"},[e("i.fal.fa-file-upload.mr2"),e("span",r?r.name:"Upload...")])};r.prototype.viewFileList=function(){return null};r.prototype.addFiles=function(e){var a=t.head(e);if(!a){return}this.setFile({guid:this.getFileId(),name:a.name,path:"not_set",file:a})};r.prototype.getFileId=function(){var e=t.head(this.fileList());return e?e.guid:p()};r.prototype.setFile=function(t){this.fileList([t])};return r}(W);var V=this&&this.__extends||function(){var t=function(e,a){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)if(e.hasOwnProperty(a))t[a]=e[a]};return t(e,a)};return function(e,a){t(e,a);function r(){this.constructor=e}e.prototype=a===null?Object.create(a):(r.prototype=a.prototype,new r)}}();var G=function(a){V(r,a);function r(){var t=a!==null&&a.apply(this,arguments)||this;t.acceptTypes="image/*";return t}r.prototype.viewUploadWidget=function(t){var a=t.classes,r=a===void 0?"h3":a;return e(".w-100.pa1.ba.bw1.b--dashed.br3.dt.tc",{class:r+" "+(this.dragging?"b--blue blue":"b--light-silver dark-gray")},e("i.fal.fa-camera.fa-2x.dtc.v-mid"))};r.prototype.viewFileList=function(){var a=this;return e(".flex.flex-row.flex-wrap.mt1.nr1.nb1.nl1",t.map(this.fileList(),function(t){return e(O,{src:f(t.path,t.dataUrl),class:"dim",style:{"max-height":"6rem"}},e(".pa2.bg-white.ba.b--light-silver.br2.absolute.top-0.right-0.child.pointer",{title:"Remove "+t.name,onclick:function(){return a.removeFile(t.guid)}},e("i.fal.fa-file-minus.fa-lg")))}))};r.prototype.addFiles=function(a){var n=this;var i="image/jpeg";var o=this.fileList();Promise.all(t.map(a,function(t){return y(t,r.maxImageSize,i).then(function(e){var a=h(t.name)[0];var r=new File([m(e)],a+".jpg",{type:i});o.push({guid:p(),name:r.name,path:"not_set",file:r,dataUrl:e})})})).then(function(){n.fileList(o);e.redraw()})};r.maxImageSize=1280;return r}(W);var J=this&&this.__extends||function(){var t=function(e,a){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)if(e.hasOwnProperty(a))t[a]=e[a]};return t(e,a)};return function(e,a){t(e,a);function r(){this.constructor=e}e.prototype=a===null?Object.create(a):(r.prototype=a.prototype,new r)}}();var K=function(a){J(r,a);function r(){var t=a!==null&&a.apply(this,arguments)||this;t.multiple=false;t.acceptTypes="image/*";return t}r.prototype.viewUploadWidget=function(a){var r=a.classes,n=r===void 0?"h5":r;var i=t.head(this.fileList());return e(".w-100.pa1.contain.ba.bw1.b--dashed.br3.dt.tc",{class:n+" "+(this.dragging?"b--blue blue":"b--light-silver dark-gray")},i?e("img.img"+b.imgHeight,{src:f(i.path,i.dataUrl)}):e("i.fal.fa-camera.fa-2x.dtc.v-mid"))};r.prototype.addFiles=function(a){var n=this;var i=t.head(a);if(!i){return}var o="image/jpeg";y(i,r.maxImageSize,o).then(function(t){var a=h(i.name)[0];var r=new File([m(t)],a+".jpg",{type:o});n.setFile({guid:n.getFileId(),name:r.name,path:"not_set",file:r,dataUrl:t});e.redraw()})};r.maxImageSize=1280;return r}(B);var N=function(){function a(){this.signaturePad=null}a.prototype.oncreate=function(e){var a=this;var n=e.dom;var i=n.children[0];this.signaturePad=new r(i,{minWidth:.5*s,maxWidth:1.5*s});this.resizeCanvas=t.debounce(function(){i.width=i.offsetWidth*s;i.height=i.offsetHeight*s;var t=i.getContext("2d");if(t&&a.signaturePad){t.scale(s,s);a.signaturePad.clear()}},250);window.addEventListener("resize",this.resizeCanvas);window.addEventListener("orientationchange",this.resizeCanvas);this.resizeCanvas()};a.prototype.onremove=function(){window.removeEventListener("resize",this.resizeCanvas);window.removeEventListener("orientationchange",this.resizeCanvas)};a.prototype.view=function(t){var a=this;var r=t.attrs,n=r.onSet,i=r.onCancel;return[e(".aspect-ratio.ba.bw1.br3.b--dashed.b--black-30"+b.aspectRatio4x1,e("canvas.aspect-ratio--object")),e(".flex.flex-row.nl1.nr1.mb1",[e(k,{label:"Apply",icon:"fa-check",classes:"ma1",onclick:function(){if(a.signaturePad&&!a.signaturePad.isEmpty()){n(a.signaturePad.toDataURL("image/png"))}}}),e(k,{label:"Reset",icon:"fa-eraser",classes:"ma1",onclick:function(){return a.resetCanvas()}}),e(k,{label:"Cancel",icon:"fa-times",classes:"ma1",onclick:i})])]};a.prototype.resetCanvas=function(){if(this.signaturePad){this.signaturePad.clear()}};a.prototype.resizeCanvas=function(){t.noop()};return a}();var Q=function(){function t(){this.text=a("")}t.prototype.oncreate=function(t){var e=t.dom;var a=e.children[0];a.focus({preventScroll:false})};t.prototype.view=function(t){var a=this;var r=t.attrs,n=r.onSet,i=r.onCancel;var o=60*s;var l=480*s;return[e(".aspect-ratio.ba.bw1.br3.b--dashed.b--black-30"+b.aspectRatio4x1,e("input.aspect-ratio--object.pa2.ba.bw0[type=text]",{onkeypress:function(t){var e=t.keyCode;if(e===13&&a.text()){n(X(a.text()));return false}return true},oninput:function(t){var e=t.target.value;return a.text(e)},value:this.text(),style:{"font-size":"calc("+o+"px + ("+o+" / "+l+" * (100vw - "+l+"px)))","font-family":"Caveat"}})),e(".flex.flex-row.nl1.nr1.mb1",[e(k,{label:"Apply",icon:"fa-check",classes:"ma1",onclick:function(){if(a.text()){n(X(a.text()))}}}),e(k,{label:"Reset",icon:"fa-eraser",classes:"ma1",onclick:function(){return a.text("")}}),e(k,{label:"Cancel",icon:"fa-times",classes:"ma1",onclick:i})])]};return t}();function X(t){var e=document.createElement("canvas");var a=90*s;e.width=600*s;e.height=150*s;var r=e.getContext("2d");if(r){r.textBaseline="middle";r.font=a+"px Caveat";r.fillText(t,6*s,e.height*.52)}return e.toDataURL()}var Y=this&&this.__extends||function(){var t=function(e,a){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)if(e.hasOwnProperty(a))t[a]=e[a]};return t(e,a)};return function(e,a){t(e,a);function r(){this.constructor=e}e.prototype=a===null?Object.create(a):(r.prototype=a.prototype,new r)}}();var Z=function(a){Y(r,a);function r(){var t=a!==null&&a.apply(this,arguments)||this;t.state=0;return t}r.prototype.view=function(a){var r=this;var n=a.attrs.field;var i=n.id,o=n.containerClass;var s=t.head(this.fileList());return e(".flex.flex-column",{class:o},[e(".mb1.flex.flex-row",[c(n),e("span.ph2.mh2.ml-auto.dark-gray",{class:this.state===1?b.brandingAlt.class:"dim pointer",onclick:function(){return r.state=1}},e("i.fal.fa-fw.fa-pen")),e("span.ph2.mh2.dark-gray",{class:this.state===2?b.brandingAlt.class:"dim pointer",onclick:function(){return r.state=2}},e("i.fal.fa-fw.fa-keyboard"))]),this.state===0?e(".aspect-ratio.dark-gray.ba.bw1.br3.b--dashed.b--black-30.pointer"+b.aspectRatio4x1,{onclick:function(){return r.state=1}},s?e("img.aspect-ratio--object",{src:f(s.path,s.dataUrl)}):e(".aspect-ratio--object.flex.items-center.justify-center",[e("i.fal.fa-pen-nib.fa-2x"),e("span.ml2","Sign")])):e(this.state===1?N:Q,{onSet:function(t){return r.setDataUrl(t,i)},onCancel:function(){return r.state=0}})])};r.prototype.setDataUrl=function(t,a){var n=this;$(t,r.maxImageSize).then(function(t){var r=new File([m(t)],"sign-"+a+".png",{type:"image/png"});n.setFile({guid:n.getFileId(),name:r.name,path:"not_set",file:r,dataUrl:t});n.state=0;e.redraw()})};r.maxImageSize=640;return r}(B);function $(t,e){return new Promise(function(a){var r=new Image;r.onload=function(){var t=document.createElement("canvas");var n=g(r.width,r.height,e),i=n[0],o=n[1];t.width=i;t.height=o;var s=t.getContext("2d");if(s){s.drawImage(r,0,0,i,o)}a(t.toDataURL())};r.src=t})}export{R as BaseInput,C as BaseText,k as Button,F as Checkbox,A as CheckboxInput,j as FileList,W as FileMulti,B as FileSelect,S as ImageList,G as ImageMulti,z as ImagePreview,K as ImageSelect,q as Label,U as Link,E as PasswordInput,D as RadioInput,T as SelectInput,I as SelectText,Z as SignBuilder,M as TextareaInput,_ as Trusted,m as dataURItoBlob,h as fileNameExtSplit,l as getDisplayLabel,c as getLabel,u as getLabelText,p as guid,P as iconMap,f as imgSrc,n as inputBorder,i as inputText,o as labelCls,L as linkAttrs,d as pickByProperty,s as pxRatio,v as removeByProperty,y as resizeImage,g as scaleRect};
